<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>부산일보 : Busan Il Science High school Newspaper</title>
<style>
  body{margin:0;background:#0b0d10;color:#e7ebef;font-family:ui-sans-serif,system-ui}
  header{padding:16px 20px;border-bottom:1px solid #1e2630;background:#0f141a}
  main{padding:18px;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
  a.card{display:block;background:#141a20;border:1px solid #222c37;border-radius:14px;padding:12px;text-decoration:none;color:#dce4ec}
  a.card:hover{border-color:#2f3d4a}
  .thumb{width:100%;aspect-ratio:3/4;object-fit:cover;border-radius:10px;background:#10151b}
  .name{margin-top:8px;font-size:14px;color:#aab4bf;word-break:break-all}
  .empty{opacity:.7;padding:18px}
</style>
</head>
<body>
<header><strong>templates/ 내 이미지 선택</strong></header>
<main id="list"><div class="empty">템플릿을 불러오는 중…</div></main>

<script>
async function load() {
  const res = await fetch('/api/templates');
  const files = await res.json();
  const list = document.getElementById('list');
  list.innerHTML = '';
  if (!files.length) {
    list.innerHTML = '<div class="empty">templates/ 폴더에 PNG/JPG를 넣어주세요.</div>';
    return;
  }
  for (const f of files) {
    const a = document.createElement('a');
    a.className = 'card';
    a.href = `/viewer?img=${encodeURIComponent(f.url)}`;
    a.innerHTML = `
      <img class="thumb" src="${f.url}" alt="">
      <div class="name">${f.name}</div>
    `;
    list.appendChild(a);
  }
}
load();
</script>
</body>
</html>
